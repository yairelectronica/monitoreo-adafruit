<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Temperatura y Humedad - Adafruit IO</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            text-align: center;
            padding: 40px;
        }
        .card {
            background: white;
            padding: 20px;
            margin: 10px auto;
            width: 300px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .value {
            font-size: 2em;
            color: #333;
        }
    </style>
</head>
<body>

    <h1>Datos desde Adafruit IO</h1>

    <div class="card">
        <h2>üå°Ô∏è Temperatura</h2>
        <div id="temp" class="value">-- ¬∞C</div>
    </div>

    <div class="card">
        <h2>üíß Humedad</h2>
        <div id="hum" class="value">-- %</div>
    </div>

    <script>
        const USERNAME = "TU_USUARIO_ADAFRUIT";
        const AIO_KEY = "TU_AIO_KEY";

        const TEMP_FEED = "temperatura";
        const HUM_FEED = "humedad";

        async function obtenerDato(feed, elemento, unidad) {
            const url = `https://io.adafruit.com/api/v2/${USERNAME}/feeds/${feed}/data/last`;

            const respuesta = await fetch(url, {
                headers: {
                    "X-AIO-Key": AIO_KEY
                }
            });

            const datos = await respuesta.json();
            document.getElementById(elemento).innerText =
                datos.value + " " + unidad;
        }

        function actualizarDatos() {
            obtenerDato(TEMP_FEED, "temp", "¬∞C");
            obtenerDato(HUM_FEED, "hum", "%");
        }

        // Actualiza cada 5 segundos
        actualizarDatos();
        setInterval(actualizarDatos, 5000);
    </script>

</body>
</html>

